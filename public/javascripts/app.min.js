window.tfFrames={loadFrames:function(){var e=document.getElementById("css"),t=e.value,a=t.split("\n"),n=a[0].split("|")[0];document.getElementById("frameCount").value=a.length,document.getElementById("frameClass").value="unknown",document.getElementById("frameName").value=n,this.generateFrames();for(var r=0;r<a.length;r++){var d=a[r].split("|");if(d.length>=3){var m=this.getFrame(d[1],d[0]);m.setAttribute("style",d[2])}}},generateFrames:function(){var e=(document.getElementsByTagName("body")[0],document.getElementById("css"),document.getElementsByClassName("frames")[0]),t=document.getElementById("frameCount").value,a=document.getElementById("frameClass").value,n=document.getElementById("frameName").value,r=document.getElementsByTagName("select")[0];r.dataset.frameName=n,document.getElementById("frameName2").value=n;for(var d=0,m=e.childElementCount;t>d;){var l=document.createElement("span");l.dataset.frameCount=m+1,l.dataset.frameLength=1,l.setAttribute("class","opacity frame "+n+(m+1)+" "+a),l.setAttribute("style",""),e.appendChild(l);var u=document.createElement("option");u.setAttribute("value",m+1),u.innerHTML=n+(m+1),r.appendChild(u),d++,m++}},getFrame:function(e,t){for(var a=void 0,n=document.querySelectorAll('[data-frame-count="'+e+'"]'),r=0;r<n.length;){var d=n[r].className.split(" ");if(n[r].dataset.frameCount==e&&d.indexOf(t+e)>=0){a=n[r];break}}return a},generateKeyframes:function(){for(var e=0,t=1,a=document.getElementById("frameCount").value,n=document.getElementById("frameName").value,r=document.getElementById("css"),d=n,m=0,l="@keyframes "+d+"_"+m+" {\n",u=d+"_"+m+" 1s steps(24) 1 "+m+"s normal, ",s=0,i=1,o="/* Frame Data: \n";a>e;){this.getFrame(t,n);t%25==0&&(u+=d+"_"+m+" 1s steps(24) 1 "+m+"s normal, ",m++,i=1,s=0,l+="}\n\n",l+="@keyframes "+d+"_"+m+" {\n");var c=4.16*i;c>99&&(c=100),l+="  "+s+"%,"+c+"% {\n",l+="    /* frame "+(e+1)+" rules here */";var p=this.getStyle(t,n);void 0!=p&&(l+=p,o+=n+"|"+t+"|"+p+"\n"),l+="\n  }\n",s=c,i++,t++,e++}r.value="",r.value=r.value+"\n\n.animate {\n",r.value=r.value+"  animation: "+u.substr(0,u.length-2)+";\n",r.value=r.value+"  animation-fill-mode: forwards;\n}\n\n",r.value=r.value+l,r.value=r.value+o+"*/\n"},getStyle:function(e,t){var a=this.getFrame(e,t);return a.getAttribute("style")},selectFrame:function(){var e=document.getElementsByTagName("select")[0],t=this.getFrame(e.value,e.dataset.frameName),a=t.getAttribute("style"),n=document.getElementById("frameStyle");n.value=a,console.log(t)},setFrameStyle:function(){var e=document.getElementsByTagName("select")[0],t=this.getFrame(e.value,e.dataset.frameName),a=(t.getAttribute("style"),document.getElementById("frameStyle"));t.setAttribute("style",a.value),console.log(t)},toggle:function(){var e=document.getElementById("tbtn"),t=document.getElementsByTagName("form")[0],a=document.getElementsByTagName("textarea")[0],n=document.getElementsByTagName("body")[0],r=document.getElementsByClassName("frames")[0];"display:none;"===t.getAttribute("style")?(t.setAttribute("style",""),a.setAttribute("style",""),r.setAttribute("style",""),n.className+="grid",e.innerHTML="Hide >"):(t.setAttribute("style","display:none;"),a.setAttribute("style","display:none;"),r.setAttribute("style","display:none;"),n.className=n.className.replace(/(?:^|\s)grid(?!\S)/g,""),e.innerHTML="Show >")},init:function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("id","tbtn"),t.setAttribute("onclick","window.tfFrames.toggle();"),t.appendChild(document.createTextNode("Hide >")),e.appendChild(t);var a=document.createElement("form"),n=document.createElement("ol"),r=document.createElement("li");n.appendChild(r);var d=document.createElement("p");d.appendChild(document.createTextNode("Paste previously generated frame data into textarea below and "));var m=document.createElement("button");m.setAttribute("type","button"),m.setAttribute("onclick","window.tfFrames.loadFrames();"),m.appendChild(document.createTextNode("Load")),d.appendChild(m),r.appendChild(d);var l=document.createElement("li");n.appendChild(l);var u=document.createElement("p"),s=document.createElement("label");s.appendChild(document.createTextNode("If frames not loaded in step 1, generate: ")),u.appendChild(s);var i=document.createElement("input");i.setAttribute("type","number"),i.setAttribute("name","genFrames"),i.setAttribute("value","50"),i.setAttribute("id","frameCount"),u.appendChild(i),u.appendChild(document.createTextNode(" frames with class "));var o=document.createElement("input");o.setAttribute("type","text"),o.setAttribute("value",""),o.setAttribute("id","frameClass"),u.appendChild(o),u.appendChild(document.createTextNode(" with name "));var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("value",""),c.setAttribute("id","frameName"),u.appendChild(c);var p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("onclick","window.tfFrames.generateFrames();"),p.appendChild(document.createTextNode("Go >")),u.appendChild(p),l.appendChild(u);var g=document.createElement("li");n.appendChild(g);var v=document.createElement("p");v.appendChild(document.createTextNode("Select "));var y=document.createElement("select");y.setAttribute("name","frame"),y.setAttribute("onchange","window.tfFrames.selectFrame();"),v.appendChild(y),v.appendChild(document.createTextNode(" frame and set style to "));var f=document.createElement("input");f.setAttribute("type","text"),f.setAttribute("value",""),f.setAttribute("id","frameStyle"),f.setAttribute("style","width:500px;"),f.setAttribute("onchange","window.tfFrames.setFrameStyle();"),v.appendChild(f),g.appendChild(v);var b=document.createElement("li");n.appendChild(b);var h=document.createElement("p");h.appendChild(document.createTextNode("Use "));var E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("value",""),E.setAttribute("id","frameName2"),h.appendChild(E),h.appendChild(document.createTextNode(" frames and "));var A=document.createElement("button");A.setAttribute("type","button"),A.setAttribute("onclick","window.tfFrames.generateKeyframes();"),A.appendChild(document.createTextNode("Generate Keyframes >")),h.appendChild(A),b.appendChild(h),a.appendChild(n),e.appendChild(a);var C=document.createElement("textarea");C.setAttribute("rows","10"),C.setAttribute("cols","100"),C.setAttribute("id","css"),e.appendChild(C);var N=document.createElement("div");N.setAttribute("class","frames"),e.appendChild(N),this.toggle()}};